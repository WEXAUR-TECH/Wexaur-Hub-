<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEXAUR HUB - App Store</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1a73e8;
            --primary-light: #4285f4;
            --secondary: #34a853;
            --accent: #ea4335;
            --warning: #f9ab00;
            --light: #f8f9fa;
            --dark: #202124;
            --gray: #5f6368;
            --gray-light: #dadce0;
            --card-bg: #ffffff;
            --surface: #ffffff;
            --shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            --shadow-hover: 0 4px 12px rgba(0,0,0,0.15);
            --radius: 12px;
            --transition: all 0.3s ease;
        }

        .dark-mode {
            --primary: #8ab4f8;
            --primary-light: #aecbfa;
            --secondary: #81c995;
            --accent: #f28b82;
            --warning: #fdd663;
            --light: #202124;
            --dark: #e8eaed;
            --gray: #9aa0a6;
            --gray-light: #3c4043;
            --card-bg: #292a2d;
            --surface: #35363a;
            --shadow: 0 1px 3px rgba(0,0,0,0.3), 0 1px 2px rgba(0,0,0,0.4);
            --shadow-hover: 0 4px 12px rgba(0,0,0,0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Google Sans', 'Segoe UI', Roboto, Arial, sans-serif;
        }

        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            transition: var(--transition);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 16px;
        }

        /* Header Styles */
        header {
            background-color: var(--surface);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
        }

        .logo-text {
            font-size: 22px;
            font-weight: 700;
            color: var(--dark);
        }

        .logo-subtitle {
            font-size: 12px;
            color: var(--gray);
            margin-top: 2px;
        }

        .search-bar {
            flex: 1;
            max-width: 600px;
            margin: 0 20px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 12px 45px 12px 16px;
            border: 1px solid var(--gray-light);
            border-radius: 24px;
            background-color: var(--light);
            color: var(--dark);
            font-size: 16px;
            transition: var(--transition);
        }

        .search-bar input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(26, 115, 232, 0.2);
        }

        .search-icon {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .header-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .btn {
            padding: 10px 16px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-light);
            transform: translateY(-2px);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--gray-light);
            color: var(--dark);
        }

        .btn-outline:hover {
            background-color: var(--gray-light);
        }

        .profile-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            gap: 8px;
            padding: 16px 0;
            border-bottom: 1px solid var(--gray-light);
            overflow-x: auto;
        }

        .nav-tab {
            padding: 10px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
            white-space: nowrap;
            font-weight: 600;
            color: var(--gray);
        }

        .nav-tab.active {
            background-color: var(--primary);
            color: white;
        }

        .nav-tab:hover:not(.active) {
            background-color: var(--gray-light);
        }

        /* Hero Banner */
        .hero-banner {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: var(--radius);
            padding: 30px;
            margin: 20px 0;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
        }

        .hero-content h2 {
            font-size: 28px;
            margin-bottom: 8px;
        }

        .hero-content p {
            font-size: 16px;
            opacity: 0.9;
        }

        .hero-image {
            width: 120px;
            height: 120px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
        }

        /* Main Content */
        .main-content {
            padding: 20px 0;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 22px;
            font-weight: 700;
        }

        .view-all {
            color: var(--primary);
            font-weight: 600;
            cursor: pointer;
        }

        /* Apps Grid */
        .apps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .app-card {
            background-color: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
        }

        .app-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .app-image {
            width: 100%;
            height: 160px;
            object-fit: cover;
        }

        .app-content {
            padding: 16px;
        }

        .app-header {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
        }

        .app-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            flex-shrink: 0;
        }

        .app-info {
            flex: 1;
        }

        .app-name {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .app-developer {
            color: var(--gray);
            font-size: 14px;
        }

        .app-description {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .app-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            font-size: 14px;
            color: var(--gray);
        }

        .app-rating {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .stars {
            color: var(--warning);
        }

        .app-actions {
            display: flex;
            gap: 10px;
        }

        .download-btn {
            flex: 1;
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 10px;
            border-radius: var(--radius);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }

        .download-btn:hover {
            background-color: var(--primary-light);
        }

        .details-btn {
            background-color: transparent;
            border: 1px solid var(--gray-light);
            color: var(--dark);
            padding: 10px;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .details-btn:hover {
            background-color: var(--gray-light);
        }

        /* App Screenshots */
        .app-screenshots {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0;
            margin-top: 15px;
        }

        .screenshot {
            width: 120px;
            height: 200px;
            border-radius: 8px;
            object-fit: cover;
            flex-shrink: 0;
            border: 1px solid var(--gray-light);
        }

        /* Settings Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.open {
            display: flex;
        }

        .modal-content {
            background: var(--surface);
            padding: 30px;
            border-radius: var(--radius);
            width: 90%;
            max-width: 500px;
            box-shadow: var(--shadow-hover);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 22px;
            font-weight: 700;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--gray);
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--gray-light);
            border-radius: var(--radius);
            background-color: var(--light);
            color: var(--dark);
            font-size: 16px;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(26, 115, 232, 0.2);
        }

        /* Admin Panel */
        .admin-panel {
            display: none;
            background-color: var(--surface);
            border-radius: var(--radius);
            box-shadow: var(--shadow-hover);
            padding: 30px;
            margin-top: 30px;
        }

        .admin-panel.open {
            display: block;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .admin-title {
            font-size: 24px;
            font-weight: 700;
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .file-upload {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .file-input {
            display: none;
        }

        .file-label {
            padding: 12px 16px;
            border: 1px dashed var(--gray-light);
            border-radius: var(--radius);
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .file-label:hover {
            border-color: var(--primary);
            background: rgba(26, 115, 232, 0.05);
        }

        .admin-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        /* Footer */
        footer {
            background-color: var(--surface);
            padding: 40px 0;
            margin-top: 60px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
        }

        .footer-section h3 {
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--dark);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 8px;
        }

        .footer-links a {
            color: var(--gray);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            margin-top: 30px;
            border-top: 1px solid var(--gray-light);
            color: var(--gray);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }

            .search-bar {
                margin: 0;
                max-width: 100%;
            }

            .apps-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .apps-grid {
                grid-template-columns: 1fr;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }
        }
        
        .small-muted {
            font-size: 14px;
            color: var(--gray);
            text-align: center;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px;
            color: var(--gray);
            grid-column: 1 / -1;
        }
        
        .empty-state i {
            font-size: 48px;
            margin-bottom: 16px;
            color: var(--gray-light);
        }
        
        .readonly-field {
            background-color: var(--gray-light) !important;
            opacity: 0.7;
            cursor: not-allowed;
        }
        
        .admin-info {
            background: rgba(26, 115, 232, 0.05);
            padding: 15px;
            border-radius: var(--radius);
            margin-top: 20px;
            text-align: center;
        }
        
        .delete-btn {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: var(--radius);
            cursor: pointer;
            font-size: 12px;
            margin-top: 10px;
        }
        
        .delete-btn:hover {
            background-color: #d33426;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">W</div>
                    <div>
                        <div class="logo-text">WEXAUR HUB</div>
                        <div class="logo-subtitle">Discover amazing apps</div>
                    </div>
                </div>
                <div class="search-bar">
                    <input type="text" placeholder="Search apps and games..." id="searchInput">
                    <i class="fas fa-search search-icon"></i>
                </div>
                <div class="header-actions">
                    <button class="btn btn-outline" id="themeToggle">
                        <i class="fas fa-moon"></i> Theme
                    </button>
                    <button class="btn btn-outline" id="settingsBtn">
                        <i class="fas fa-cog"></i> Settings
                    </button>
                    <button class="btn btn-primary" id="adminBtn">
                        <i class="fas fa-user-shield"></i> Admin
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <div class="container">
        <div class="nav-tabs">
            <div class="nav-tab active" data-tab="home">Home</div>
            <div class="nav-tab" data-tab="apps">Apps</div>
            <div class="nav-tab" data-tab="games">Games</div>
            <div class="nav-tab" data-tab="tools">Tools</div>
            <div class="nav-tab" data-tab="productivity">Productivity</div>
            <div class="nav-tab" data-tab="entertainment">Entertainment</div>
            <div class="nav-tab" data-tab="education">Education</div>
            <div class="nav-tab" data-tab="business">Business</div>
            <div class="nav-tab" data-tab="social">Social</div>
            <div class="nav-tab" data-tab="photography">Photography</div>
            <div class="nav-tab" data-tab="music">Music</div>
            <div class="nav-tab" data-tab="health">Health</div>
            <div class="nav-tab" data-tab="finance">Finance</div>
        </div>
    </div>

    <!-- Hero Banner -->
    <div class="container">
        <div class="hero-banner">
            <div class="hero-content">
                <h2>Discover Amazing Apps</h2>
                <p>Explore our collection of handpicked applications for your device</p>
            </div>
            <div class="hero-image">
                <i class="fas fa-mobile-alt"></i>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <div class="main-content" id="mainContent">
            <!-- Featured Apps -->
            <div class="section-header">
                <h2 class="section-title">Featured Apps</h2>
                <div class="view-all">View All</div>
            </div>
            <div class="apps-grid" id="featuredApps">
                <!-- Apps will be dynamically loaded here -->
            </div>

            <!-- New Releases -->
            <div class="section-header">
                <h2 class="section-title">New Releases</h2>
                <div class="view-all">View All</div>
            </div>
            <div class="apps-grid" id="newReleases">
                <!-- Apps will be dynamically loaded here -->
            </div>

            <!-- Popular Games -->
            <div class="section-header">
                <h2 class="section-title">Popular Games</h2>
                <div class="view-all">View All</div>
            </div>
            <div class="apps-grid" id="popularGames">
                <!-- Games will be dynamically loaded here -->
            </div>
        </div>

        <!-- Admin Panel -->
        <div class="admin-panel" id="adminPanel">
            <div class="admin-header">
                <h2 class="admin-title">Add New App</h2>
                <button class="btn btn-outline" id="backToStore">
                    <i class="fas fa-arrow-left"></i> Back to Store
                </button>
            </div>

            <form id="appForm">
                <div class="form-group">
                    <label for="appName">App Name</label>
                    <input type="text" id="appName" class="form-control" placeholder="Enter app name" required>
                </div>

                <div class="form-group">
                    <label for="appDeveloper">Developer</label>
                    <input type="text" id="appDeveloper" class="form-control" placeholder="Enter developer name" required>
                </div>

                <div class="form-group">
                    <label for="appDescription">Description</label>
                    <textarea id="appDescription" class="form-control" placeholder="Enter app description" required></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="appCategory">Category</label>
                        <select id="appCategory" class="form-control" required>
                            <option value="">Select Category</option>
                            <option value="apps">Apps</option>
                            <option value="games">Games</option>
                            <option value="tools">Tools</option>
                            <option value="productivity">Productivity</option>
                            <option value="entertainment">Entertainment</option>
                            <option value="education">Education</option>
                            <option value="business">Business</option>
                            <option value="social">Social</option>
                            <option value="photography">Photography</option>
                            <option value="music">Music</option>
                            <option value="health">Health</option>
                            <option value="finance">Finance</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="appSize">Size (MB)</label>
                        <input type="number" id="appSize" class="form-control" placeholder="e.g., 25" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="appVersion">Version</label>
                        <input type="text" id="appVersion" class="form-control" placeholder="e.g., 1.0.0" required>
                    </div>
                    <div class="form-group">
                        <label for="appIcon">Icon (Emoji)</label>
                        <input type="text" id="appIcon" class="form-control" placeholder="e.g., 📱" required>
                    </div>
                </div>

                <div class="form-group">
                    <label>APK File (Required)</label>
                    <div class="file-upload">
                        <input type="file" id="appFile" class="file-input" accept=".apk" required>
                        <label for="appFile" class="file-label">
                            <i class="fas fa-upload"></i> Choose APK File
                        </label>
                        <div id="appFileName" class="small-muted">No file chosen</div>
                    </div>
                </div>

                <div class="form-group">
                    <label>App Logo (Optional)</label>
                    <div class="file-upload">
                        <input type="file" id="appLogoFile" class="file-input" accept="image/*">
                        <label for="appLogoFile" class="file-label">
                            <i class="fas fa-upload"></i> Choose Logo Image
                        </label>
                        <div id="logoFileName" class="small-muted">No file chosen</div>
                    </div>
                </div>

                <div class="form-group">
                    <label>App Screenshots (Optional)</label>
                    <div class="file-upload">
                        <input type="file" id="appScreenshots" class="file-input" accept="image/*" multiple>
                        <label for="appScreenshots" class="file-label">
                            <i class="fas fa-images"></i> Choose Screenshots
                        </label>
                        <div id="screenshotsCount" class="small-muted">No files chosen</div>
                    </div>
                </div>

                <div class="admin-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Add App
                    </button>
                    <button type="button" class="btn btn-outline" onclick="clearForm()">
                        <i class="fas fa-eraser"></i> Clear
                    </button>
                </div>
            </form>
            
            <div class="admin-info">
                <h4><i class="fas fa-info-circle"></i> Admin Information</h4>
                <p>Secret Key: <code>wex3aur202ms1310s19r18WEXAUR</code></p>
                <small>This key is required to access the admin panel. Contact developer if you need access.</small>
            </div>
            
            <!-- Apps Management Section -->
            <div style="margin-top: 40px; padding-top: 30px; border-top: 1px solid var(--gray-light);">
                <h3 style="margin-bottom: 20px;">Manage Existing Apps</h3>
                <div id="appsList" class="apps-grid">
                    <!-- Existing apps will be listed here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>WEXAUR HUB</h3>
                    <p>Discover amazing apps and games for your device.</p>
                </div>
                <div class="footer-section">
                    <h3>Categories</h3>
                    <ul class="footer-links">
                        <li><a href="#">Apps</a></li>
                        <li><a href="#">Games</a></li>
                        <li><a href="#">Tools</a></li>
                        <li><a href="#">Productivity</a></li>
                        <li><a href="#">Entertainment</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <ul class="footer-links">
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Developer</h3>
                    <ul class="footer-links">
                        <li><a href="#">Submit App</a></li>
                        <li><a href="#">Developer Console</a></li>
                        <li><a href="#">Documentation</a></li>
                        <li><a href="#">Community</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                &copy; 2025 WEXAUR HUB. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">App Settings</h2>
                <button class="close-btn" id="closeSettings">&times;</button>
            </div>
            
            <div class="form-group">
                <label for="appVersionSetting">App Version</label>
                <input type="text" id="appVersionSetting" class="form-control readonly-field" value="1.0.0" readonly>
                <small style="color: var(--gray);">WEXAUR HUB App Store Version</small>
            </div>
            
            <div class="form-group">
                <label for="aboutText">About</label>
                <textarea id="aboutText" class="form-control readonly-field" readonly>WEXAUR HUB — Central place for your WEXAUR apps. Discover amazing applications and games for all your devices.</textarea>
                <small style="color: var(--gray);">About WEXAUR HUB App Store</small>
            </div>
            
            <div class="form-group">
                <label>Theme</label>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" onclick="setTheme('light')">
                        <i class="fas fa-sun"></i> Light
                    </button>
                    <button class="btn btn-outline" onclick="setTheme('dark')">
                        <i class="fas fa-moon"></i> Dark
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Apps data - now using localStorage for persistence
        let apps = JSON.parse(localStorage.getItem('wexaur_apps')) || [];

        // DOM Elements
        const mainContent = document.getElementById('mainContent');
        const adminPanel = document.getElementById('adminPanel');
        const adminBtn = document.getElementById('adminBtn');
        const backToStore = document.getElementById('backToStore');
        const settingsBtn = document.getElementById('settingsBtn');
        const settingsModal = document.getElementById('settingsModal');
        const closeSettings = document.getElementById('closeSettings');
        const themeToggle = document.getElementById('themeToggle');
        const searchInput = document.getElementById('searchInput');
        const navTabs = document.querySelectorAll('.nav-tab');
        const appForm = document.getElementById('appForm');
        const appsList = document.getElementById('appsList');

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderApps();
            renderAppsList();
            setupEventListeners();
            loadSettings();
        });

        // Save apps to localStorage
        function saveApps() {
            localStorage.setItem('wexaur_apps', JSON.stringify(apps));
        }

        // Setup event listeners
        function setupEventListeners() {
            // Navigation tabs
            navTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    navTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    filterAppsByCategory(tab.dataset.tab);
                });
            });

            // Admin panel toggle
            adminBtn.addEventListener('click', showAdminPanel);
            backToStore.addEventListener('click', showMainContent);

            // Settings modal
            settingsBtn.addEventListener('click', () => settingsModal.classList.add('open'));
            closeSettings.addEventListener('click', () => settingsModal.classList.remove('open'));

            // Theme toggle
            themeToggle.addEventListener('click', toggleTheme);

            // Search functionality
            searchInput.addEventListener('input', searchApps);

            // Form submission
            appForm.addEventListener('submit', addNewApp);
            
            // File upload handlers
            document.getElementById('appFile').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    // Validate APK file
                    if (!file.name.toLowerCase().endsWith('.apk')) {
                        alert('कृपया केवल APK फाइलें चुनें!');
                        e.target.value = '';
                        document.getElementById('appFileName').textContent = 'No file chosen';
                        return;
                    }
                    document.getElementById('appFileName').textContent = file.name;
                } else {
                    document.getElementById('appFileName').textContent = 'No file chosen';
                }
            });
            
            document.getElementById('appLogoFile').addEventListener('change', function(e) {
                document.getElementById('logoFileName').textContent = e.target.files.length > 0 ? e.target.files[0].name : 'No file chosen';
            });
            
            document.getElementById('appScreenshots').addEventListener('change', function(e) {
                document.getElementById('screenshotsCount').textContent = e.target.files.length > 0 ? `${e.target.files.length} files chosen` : 'No files chosen';
            });
        }

        // Render apps to the store
        function renderApps() {
            const featuredApps = document.getElementById('featuredApps');
            const newReleases = document.getElementById('newReleases');
            const popularGames = document.getElementById('popularGames');

            // Clear existing content
            featuredApps.innerHTML = '';
            newReleases.innerHTML = '';
            popularGames.innerHTML = '';

            // If no apps, show empty state
            if (apps.length === 0) {
                featuredApps.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-box-open"></i>
                        <h3>No Apps Available</h3>
                        <p>Add your first app using the Admin panel</p>
                    </div>
                `;
                newReleases.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-rocket"></i>
                        <h3>No New Releases</h3>
                        <p>Add new apps to see them here</p>
                    </div>
                `;
                popularGames.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-gamepad"></i>
                        <h3>No Games Available</h3>
                        <p>Add games to see them here</p>
                    </div>
                `;
                return;
            }

            // Filter apps
            const featured = apps.filter(app => app.featured);
            const newApps = apps.filter(app => app.new);
            const games = apps.filter(app => app.category === 'games');

            // Render featured apps
            if (featured.length > 0) {
                featured.forEach(app => {
                    featuredApps.appendChild(createAppCard(app));
                });
            } else {
                featuredApps.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-star"></i>
                        <h3>No Featured Apps</h3>
                        <p>Mark apps as featured to see them here</p>
                    </div>
                `;
            }

            // Render new releases
            if (newApps.length > 0) {
                newApps.forEach(app => {
                    newReleases.appendChild(createAppCard(app));
                });
            } else {
                newReleases.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-rocket"></i>
                        <h3>No New Releases</h3>
                        <p>Add new apps to see them here</p>
                    </div>
                `;
            }

            // Render popular games
            if (games.length > 0) {
                games.forEach(app => {
                    popularGames.appendChild(createAppCard(app));
                });
            } else {
                popularGames.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-gamepad"></i>
                        <h3>No Games Available</h3>
                        <p>Add games to see them here</p>
                    </div>
                `;
            }
        }

        // Render apps list in admin panel
        function renderAppsList() {
            appsList.innerHTML = '';
            
            if (apps.length === 0) {
                appsList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-box-open"></i>
                        <h3>No Apps Added Yet</h3>
                        <p>Add your first app using the form above</p>
                    </div>
                `;
                return;
            }

            apps.forEach(app => {
                const appElement = document.createElement('div');
                appElement.className = 'app-card';
                appElement.innerHTML = `
                    <div class="app-content">
                        <div class="app-header">
                            <div class="app-icon">${app.icon}</div>
                            <div class="app-info">
                                <div class="app-name">${app.name}</div>
                                <div class="app-developer">${app.developer}</div>
                            </div>
                        </div>
                        <div class="app-description">${app.description}</div>
                        <div class="app-meta">
                            <div class="app-size"><i class="fas fa-download"></i> ${app.size} MB</div>
                            <div class="app-version"><i class="fas fa-code-branch"></i> v${app.version}</div>
                        </div>
                        <div class="app-actions">
                            <button class="delete-btn" onclick="deleteApp(${app.id})">
                                <i class="fas fa-trash"></i> Delete App
                            </button>
                        </div>
                    </div>
                `;
                appsList.appendChild(appElement);
            });
        }

        // Create app card element
        function createAppCard(app) {
            const card = document.createElement('div');
            card.className = 'app-card';
            
            // Use uploaded logo if available, otherwise use emoji icon
            const logoContent = app.logoUrl ? 
                `<img src="${app.logoUrl}" alt="${app.name}" class="app-icon" style="object-fit: cover;">` : 
                `<div class="app-icon">${app.icon}</div>`;
            
            card.innerHTML = `
                <img src="${app.imageUrl || `https://via.placeholder.com/400x200/4361ee/ffffff?text=${encodeURIComponent(app.name)}`}" alt="${app.name}" class="app-image">
                <div class="app-content">
                    <div class="app-header">
                        ${logoContent}
                        <div class="app-info">
                            <div class="app-name">${app.name}</div>
                            <div class="app-developer">${app.developer}</div>
                        </div>
                    </div>
                    <div class="app-description">${app.description}</div>
                    <div class="app-meta">
                        <div class="app-size"><i class="fas fa-download"></i> ${app.size} MB</div>
                        <div class="app-version"><i class="fas fa-code-branch"></i> v${app.version}</div>
                    </div>
                    <div class="app-screenshots">
                        ${app.screenshots && app.screenshots.length > 0 ? 
                            app.screenshots.map(screenshot => 
                                `<img src="${screenshot}" alt="Screenshot" class="screenshot">`
                            ).join('') : 
                            '<p class="small-muted">No screenshots available</p>'
                        }
                    </div>
                    <div class="app-actions">
                        <button class="download-btn" onclick="downloadApp(${app.id})">
                            <i class="fas fa-download"></i> Download
                        </button>
                        <button class="details-btn" onclick="showAppDetails(${app.id})">
                            <i class="fas fa-info-circle"></i> Details
                        </button>
                    </div>
                </div>
            `;
            return card;
        }

        // Show admin panel
        function showAdminPanel() {
            const storedKey = 'wex3aur202ms1310s19r18WEXAUR';
            const userKey = prompt('Enter admin secret key:');
            
            if (userKey === storedKey) {
                mainContent.style.display = 'none';
                adminPanel.classList.add('open');
                renderAppsList();
            } else {
                alert('Invalid secret key! Access denied.');
            }
        }

        // Show main content
        function showMainContent() {
            mainContent.style.display = 'block';
            adminPanel.classList.remove('open');
        }

        // Toggle theme
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const icon = themeToggle.querySelector('i');
            if (document.body.classList.contains('dark-mode')) {
                icon.className = 'fas fa-sun';
                localStorage.setItem('wexaur_theme', 'dark');
            } else {
                icon.className = 'fas fa-moon';
                localStorage.setItem('wexaur_theme', 'light');
            }
        }

        // Set theme directly
        function setTheme(theme) {
            if (theme === 'dark') {
                document.body.classList.add('dark-mode');
                themeToggle.querySelector('i').className = 'fas fa-sun';
                localStorage.setItem('wexaur_theme', 'dark');
            } else {
                document.body.classList.remove('dark-mode');
                themeToggle.querySelector('i').className = 'fas fa-moon';
                localStorage.setItem('wexaur_theme', 'light');
            }
            settingsModal.classList.remove('open');
        }

        // Search apps
        function searchApps() {
            const query = searchInput.value.toLowerCase();
            if (query.length === 0) {
                renderApps();
                return;
            }

            const filteredApps = apps.filter(app => 
                app.name.toLowerCase().includes(query) ||
                app.developer.toLowerCase().includes(query) ||
                app.description.toLowerCase().includes(query)
            );

            // Update all sections with filtered results
            updateSectionWithFilteredApps('featuredApps', filteredApps);
            updateSectionWithFilteredApps('newReleases', filteredApps);
            updateSectionWithFilteredApps('popularGames', filteredApps.filter(app => app.category === 'games'));
        }

        // Update section with filtered apps
        function updateSectionWithFilteredApps(sectionId, filteredApps) {
            const section = document.getElementById(sectionId);
            section.innerHTML = '';
            
            if (filteredApps.length === 0) {
                section.innerHTML = '<div class="empty-state"><i class="fas fa-search"></i><h3>No apps found</h3><p>Try a different search term</p></div>';
                return;
            }

            filteredApps.forEach(app => {
                section.appendChild(createAppCard(app));
            });
        }

        // Filter apps by category
        function filterAppsByCategory(category) {
            if (category === 'home') {
                renderApps();
                return;
            }

            const filteredApps = apps.filter(app => app.category === category);
            
            // Hide all sections and show only filtered results
            document.querySelectorAll('.apps-grid').forEach(section => {
                section.innerHTML = '';
            });

            const featuredSection = document.getElementById('featuredApps');
            
            if (filteredApps.length === 0) {
                featuredSection.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-folder-open"></i>
                        <h3>No ${category} Apps</h3>
                        <p>Add apps in the ${category} category to see them here</p>
                    </div>
                `;
                return;
            }

            featuredSection.innerHTML = '<h3 style="grid-column: 1 / -1; text-align: center; padding: 20px; color: var(--gray);">' + 
                category.charAt(0).toUpperCase() + category.slice(1) + ' Apps</h3>';

            filteredApps.forEach(app => {
                featuredSection.appendChild(createAppCard(app));
            });
        }

        // Add new app from admin panel
        function addNewApp(e) {
            e.preventDefault();

            const appFile = document.getElementById('appFile').files[0];
            const logoFile = document.getElementById('appLogoFile').files[0];
            const screenshotFiles = document.getElementById('appScreenshots').files;
            
            if (!appFile) {
                alert('Please select an APK file to upload');
                return;
            }

            // Validate APK file
            if (!appFile.name.toLowerCase().endsWith('.apk')) {
                alert('कृपया केवल APK फाइलें चुनें!');
                return;
            }

            // Create file URLs and convert to base64 for permanent storage
            const reader = new FileReader();
            reader.onload = function(e) {
                const appFileData = e.target.result;
                
                // Process logo if available
                if (logoFile) {
                    const logoReader = new FileReader();
                    logoReader.onload = function(e) {
                        const logoData = e.target.result;
                        
                        // Process screenshots if available
                        const screenshotReaders = [];
                        const screenshotData = [];
                        
                        function processScreenshots(index) {
                            if (index >= screenshotFiles.length) {
                                // All files processed, create app object
                                const newApp = {
                                    id: Date.now(), // Use timestamp for unique ID
                                    name: document.getElementById('appName').value,
                                    developer: document.getElementById('appDeveloper').value,
                                    description: document.getElementById('appDescription').value,
                                    category: document.getElementById('appCategory').value,
                                    size: parseInt(document.getElementById('appSize').value),
                                    version: document.getElementById('appVersion').value,
                                    icon: document.getElementById('appIcon').value,
                                    download: appFileData,
                                    logoUrl: logoData,
                                    screenshots: screenshotData,
                                    featured: true,
                                    new: true,
                                    fileName: appFile.name,
                                    timestamp: new Date().toISOString()
                                };

                                apps.unshift(newApp);
                                saveApps();
                                renderApps();
                                renderAppsList();
                                clearForm();
                                showMainContent();
                                
                                alert('App successfully added and saved!');
                                return;
                            }
                            
                            const screenshotReader = new FileReader();
                            screenshotReader.onload = function(e) {
                                screenshotData.push(e.target.result);
                                processScreenshots(index + 1);
                            };
                            screenshotReader.readAsDataURL(screenshotFiles[index]);
                        }
                        
                        processScreenshots(0);
                    };
                    logoReader.readAsDataURL(logoFile);
                } else {
                    // No logo, just process screenshots
                    const screenshotReaders = [];
                    const screenshotData = [];
                    
                    function processScreenshots(index) {
                        if (index >= screenshotFiles.length) {
                            // All files processed, create app object
                            const newApp = {
                                id: Date.now(),
                                name: document.getElementById('appName').value,
                                developer: document.getElementById('appDeveloper').value,
                                description: document.getElementById('appDescription').value,
                                category: document.getElementById('appCategory').value,
                                size: parseInt(document.getElementById('appSize').value),
                                version: document.getElementById('appVersion').value,
                                icon: document.getElementById('appIcon').value,
                                download: appFileData,
                                logoUrl: null,
                                screenshots: screenshotData,
                                featured: true,
                                new: true,
                                fileName: appFile.name,
                                timestamp: new Date().toISOString()
                            };

                            apps.unshift(newApp);
                            saveApps();
                            renderApps();
                            renderAppsList();
                            clearForm();
                            showMainContent();
                            
                            alert('App successfully added and saved!');
                            return;
                        }
                        
                        const screenshotReader = new FileReader();
                        screenshotReader.onload = function(e) {
                            screenshotData.push(e.target.result);
                            processScreenshots(index + 1);
                        };
                        screenshotReader.readAsDataURL(screenshotFiles[index]);
                    }
                    
                    processScreenshots(0);
                }
            };
            reader.readAsDataURL(appFile);
        }

        // Delete app
        function deleteApp(appId) {
            if (confirm('Are you sure you want to delete this app?')) {
                apps = apps.filter(app => app.id !== appId);
                saveApps();
                renderApps();
                renderAppsList();
                alert('App deleted successfully!');
            }
        }

        // Clear form
        function clearForm() {
            document.getElementById('appForm').reset();
            document.getElementById('appFileName').textContent = 'No file chosen';
            document.getElementById('logoFileName').textContent = 'No file chosen';
            document.getElementById('screenshotsCount').textContent = 'No files chosen';
        }

        // Download app
        function downloadApp(appId) {
            const app = apps.find(a => a.id === appId);
            if (app && app.download) {
                // Create download link
                const link = document.createElement('a');
                link.href = app.download;
                link.download = app.fileName || `${app.name}.apk`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                alert(`Downloading ${app.name}...`);
            } else {
                alert('Download file not available!');
            }
        }

        // Show app details
        function showAppDetails(appId) {
            const app = apps.find(a => a.id === appId);
            alert(`App Details:\n\nName: ${app.name}\nDeveloper: ${app.developer}\nVersion: ${app.version}\nSize: ${app.size} MB\nCategory: ${app.category}\n\nDescription: ${app.description}`);
        }

        // Load settings from localStorage
        function loadSettings() {
            const savedTheme = localStorage.getItem('wexaur_theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                themeToggle.querySelector('i').className = 'fas fa-sun';
            }
        }
    </script>
</body>
</html>